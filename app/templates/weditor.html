{% extends "base.html" %}
{% block title %} Weditor {% endblock %}

{% block page_content %}
<div id="div1">
    <p>欢迎使用 wangEditor 编辑器</p>
</div>
<button id="btn1">获取html</button>
<button id="btn2">获取text</button>
<script type="text/javascript" src="{{ url_for('static',filename='wangEditor/release/wangEditor.js') }}"></script>
<script type="text/javascript">
    var E = window.wangEditor
    var editor = new E('#div1')
    editor.customConfig.zIndex = 100
    editor.customConfig.debug = true
    editor.customConfig.lang = {
        '设置标题': 'title',
        '正文': 'p',
        '链接文字': 'link text',
        '链接': 'link',
        '上传图片': 'upload image',
        '上传': 'upload',
        '创建': 'init'
        // 还可自定添加更多
    }
    editor.customConfig.uploadFileName = 'image'
    editor.customConfig.uploadImgServer='/auth/uploadimage'
    //editor.customConfig.uploadImgShowBase64 = true




    editor.create()
    $('#div1').attr('style','height:auto')

    document.getElementById('btn1').addEventListener('click', function () {
        // 读取 html
        alert(editor.txt.html())
    }, false)
    document.getElementById('btn2').addEventListener('click', function () {
        // 读取 text
        alert(editor.txt.text())
    }, false)
</script>

{% endblock %}